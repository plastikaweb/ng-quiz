"use strict";(self.webpackChunkng_quiz=self.webpackChunkng_quiz||[]).push([[592],{142:(h,f,r)=>{r.d(f,{V:()=>T});var c=r(4755),n=r(3020),p=r(6550);let C=(()=>{class t{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(p.H7,16))},t.\u0275pipe=n.Yjl({name:"safeHtml",type:t,pure:!0,standalone:!0}),t})();function z(t,o){1&t&&n.GkF(0)}const u=function(t){return{answer:t}};function g(t,o){if(1&t&&(n.TgZ(0,"li",6),n.YNc(1,z,1,0,"ng-container",7),n.qZA()),2&t){const e=o.$implicit,s=n.oxw(),d=n.MAs(8),l=n.MAs(6);n.xp6(1),n.Q6J("ngTemplateOutlet",s.readOnly?d:l)("ngTemplateOutletContext",n.VKq(2,u,e))}}const i=function(t){return{selected:t}};function a(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){const l=n.CHM(e).answer,x=n.oxw();return n.KtG(x.onClick(l))}),n.ALo(1,"safeHtml"),n.qZA()}if(2&t){const e=o.answer,s=n.oxw();n.Q6J("ngClass",n.VKq(4,i,e===s.result))("innerHTML",n.lcZ(1,2,e),n.oJD)}}const _=function(t,o){return{low:t,high:o}};function m(t,o){if(1&t&&(n._UZ(0,"div",9),n.ALo(1,"safeHtml")),2&t){const e=o.answer,s=n.oxw();n.Q6J("ngClass",n.WLB(4,_,e===s.quizQuestion.result,e===s.quizQuestion.correct_answer))("innerHTML",n.lcZ(1,2,e),n.oJD)}}let Q=(()=>{class t{constructor(){this.readOnly=!1,this.selectAnswer=new n.vpe}onClick(e){this.result=this.result!==e?e:null,this.selectAnswer.emit({...this.quizQuestion,result:this.result})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-question-container"]],inputs:{quizQuestion:"quizQuestion",readOnly:"readOnly"},outputs:{selectAnswer:"selectAnswer"},standalone:!0,features:[n.jDz],decls:9,vars:4,consts:[[1,"question-container"],[3,"innerHTML"],[1,"question-container-answers"],["class","question-container-answer",4,"ngFor","ngForOf"],["notReadOnlyTpl",""],["readOnlyTpl",""],[1,"question-container-answer"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","innerHTML","click"],[1,"button",3,"ngClass","innerHTML"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"h2",1),n.ALo(2,"safeHtml"),n.TgZ(3,"ul",2),n.YNc(4,g,2,4,"li",3),n.qZA()(),n.YNc(5,a,2,6,"ng-template",null,4,n.W1O),n.YNc(7,m,2,7,"ng-template",null,5,n.W1O)),2&e&&(n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,2,s.quizQuestion.question),n.oJD),n.xp6(3),n.Q6J("ngForOf",s.quizQuestion.answers))},dependencies:[c.ax,C,c.mk,c.tP],styles:[".question-container[_ngcontent-%COMP%]{margin:1rem 0 0;padding:1rem;border-radius:5px;background-color:#b4d2fd8a}.question-container-answers[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:5px}.question-container[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]{background:rgb(20,110,200);border-color:#146ec8;color:#fff;cursor:default!important}"],changeDetection:0}),t})();function q(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"app-question-container",2),n.NdJ("selectAnswer",function(d){n.CHM(e);const l=n.oxw();return n.KtG(l.onSelectAnswer(d))}),n.qZA()}if(2&t){const e=o.$implicit,s=n.oxw();n.Q6J("quizQuestion",e)("readOnly",s.readOnly)}}const w=[[["bottom"]]],O=["bottom"];let T=(()=>{class t{constructor(){this.readOnly=!1,this.quizCompleted=new n.vpe,this.completed=!1,this.quizQuestionsWithResult=[]}ngOnChanges({quizQuestions:e}){e&&(this.quizQuestionsWithResult=[],this.completed=!1)}onSelectAnswer(e){this.quizQuestionsWithResult=[...this.quizQuestionsWithResult.filter(s=>s.id!==e.id),...e.result?[e]:[]],this.markCompleted()}markCompleted(){this.quizQuestions.length===this.quizQuestionsWithResult.length&&(console.log(this.quizQuestionsWithResult),this.quizCompleted.emit(this.quizQuestionsWithResult))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-quiz-container"]],inputs:{quizQuestions:"quizQuestions",readOnly:"readOnly"},outputs:{quizCompleted:"quizCompleted"},standalone:!0,features:[n.TTD,n.jDz],ngContentSelectors:O,decls:3,vars:1,consts:[[1,"flex","flex-column"],[3,"quizQuestion","readOnly","selectAnswer",4,"ngFor","ngForOf"],[3,"quizQuestion","readOnly","selectAnswer"]],template:function(e,s){1&e&&(n.F$t(w),n.TgZ(0,"div",0),n.YNc(1,q,1,2,"app-question-container",1),n.Hsn(2),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",s.quizQuestions))},dependencies:[Q,c.ax],changeDetection:0}),t})()},7815:(h,f,r)=>{r.d(f,{S:()=>z});var c=r(1135),n=r(4004),p=r(3020),C=r(8381);let z=(()=>{class u{constructor(i){this.randomOrderPipe=i,this.quizSubject=new c.X([]),this.quiz$=this.quizSubject.asObservable(),this.quizScore$=this.quiz$.pipe((0,n.U)(a=>a?.reduce((_,m)=>(m.correct_answer===m.result&&_++,_),0)||0))}saveQuiz(i,a=!1){a&&(i=this.randomizeAnswers(i)),this.quizSubject.next(i)}randomizeAnswers(i){return i?.map(a=>({...a,answers:this.randomOrderPipe.transform(a.answers)}))}}return u.\u0275fac=function(i){return new(i||u)(p.LFG(C.M))},u.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);